apiVersion: v1
kind: Pod
metadata:
  name: sqlserver-pod
  labels:
    apps: sqlserver
spec:
  containers:
    - name: sqlserver
      env:
        - name: ACCEPT_EULA
          value: "Y"
        - name: MSSQL_PID
          value: Developer
        - name: SA_PASSWORD
          value: SqlServer2019!
      image: mcr.microsoft.com/mssql/server:2019-latest          
      ports:
        - containerPort: 1433
      volumeMounts:
        - mountPath: /var/opt/mssql
          name: sql-data
    - name: mssqltools
      image: fdelima/fiap-pos-techchallenge-gurpo-71-scripts-database:fase2
  restartPolicy: Never  
  volumes:
    - name: sql-data
      persistentVolumeClaim:
        claimName: sql-data
